{"nodes":[{"data":{"label":"Begin","name":"begin"},"dragging":false,"id":"begin","measured":{"height":44,"width":200},"position":{"x":-451.4908787498696,"y":103.105072336056},"selected":false,"sourcePosition":"left","targetPosition":"right","type":"beginNode"},{"data":{"form":{"kb_ids":["8394dd23736011f0b9cf00155d100037"],"keywords_similarity_weight":0.3,"query":[],"similarity_threshold":0.2,"top_n":8,"use_kg":false},"label":"Retrieval","name":"知识检索_0"},"dragging":false,"id":"Retrieval:SourBottlesRhyme","measured":{"height":106,"width":200},"position":{"x":153.81610580861263,"y":71.84400748973331},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"retrievalNode"},{"data":{"form":{"cite":false,"frequencyPenaltyEnabled":true,"frequency_penalty":0.2,"llm_id":"deepseek-r1-distill-qwen-32b@Tongyi-Qianwen","maxTokensEnabled":false,"max_tokens":4096,"message_history_window_size":12,"parameter":"Precise","parameters":[],"presencePenaltyEnabled":true,"presence_penalty":0.1,"prompt":"你是工艺知识提取专家，需要根据用户提供的零件参数（材料、尺寸、精度、性能、表面要求等），结合书籍知识库内容，生成针对性强、细节完整的理论工艺方案。\n\n请严格遵循以下要求输出：\n\n一、输出格式（结构化列表，按加工顺序排列）\n\n每个工序需包含以下要素（若知识库无对应信息，标注 “无”，但需基于零件参数合理推导）：\n\n工序名称：明确具体操作（如 “棒料下料”“渗碳淬火”“精车轴孔” 等，避免模糊表述）；\n\n工序目的：说明该工序对零件的作用（如 “去除粗加工余量，保证轴孔公差 h11”“细化晶粒，改善 20CrMnTi 加工性能” 等）；\n\n关键参数：结合零件参数明确具体数值（如 “下料尺寸：直径 55mm× 长度 120mm（预留 8mm 锻造余量）”“渗碳温度：920±10℃（匹配 20CrMnTi 渗碳特性）”“精车进给量：0.15mm/r（保证 Ra 0.8μm 粗糙度）” 等）；\n\n操作要求：基于零件特性的细节约束（如 “滚齿后齿面粗糙度需≤Ra 3.2μm（符合图纸要求）”“渗碳淬火后硬化层深度控制在 1.2±0.5mm（满足性能指标）” 等）；\n\n与零件参数的匹配逻辑：说明该工序为何适配当前零件（如 “因材料为 20CrMnTi，需渗碳淬火而非普通淬火，以达到表面硬度 670±100HV”“轴孔公差 h11 需精车 + 磨削组合加工，单一粗车无法满足精度” 等）。\n\n二、输出原则\n\n深度绑定零件参数：所有工序必须围绕用户提供的具体参数展开（如材料 20CrMnTi 的热处理参数、精度等级 10bc28 对应的齿加工方法、表面粗糙度 Ra 0.8μm 对应的精加工方式等），拒绝通用化表述；\n\n工序逻辑连贯：明确工序间的因果关系（如 “粗车→半精车→渗碳淬火→精车” 的逻辑：淬火前留 0.5mm 余量，避免淬火变形后尺寸超差；20CrMnTi 淬火后硬度升高，精车需用硬质合金刀具）；\n\n覆盖独特要求：零件参数中的特殊要求（如 “部分区域无涂层”“硬化层深度 1.2+0.5mm”“齿轮轴孔同轴度 ±0.13mm”）必须在对应工序中体现具体操作（如表面处理时 “用耐高温胶带屏蔽无涂层区域”，渗碳时 “每 2 小时检测一次层深，确保达标”）；\n\n细节颗粒度：涉及尺寸、温度、时间、公差、粗糙度的环节，必须给出具体数值（参考零件参数或知识库数据），避免 “适当余量”“一定温度” 等模糊表述。\n\n用户当前零件参数： {Answer:MeanSuitsMelt}\n\n书籍知识库： {Retrieval:SourBottlesRhyme}","temperature":0.1,"temperatureEnabled":true,"topPEnabled":true,"top_p":0.5},"label":"Generate","name":"生成回答_0"},"dragging":false,"id":"Generate:TameBreadsPay","measured":{"height":102,"width":200},"position":{"x":426.53966512725555,"y":77.09718125853641},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"generateNode"},{"data":{"form":{"kb_ids":["bc576fe3736411f086f900155d035efc"],"keywords_similarity_weight":0.3,"query":[],"similarity_threshold":0.2,"top_n":8,"use_kg":false},"label":"Retrieval","name":"知识检索_1"},"dragging":false,"id":"Retrieval:YoungMapsSneeze","measured":{"height":106,"width":200},"position":{"x":346.8377897452311,"y":234.6449244472921},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"retrievalNode"},{"data":{"form":{"cite":false,"frequencyPenaltyEnabled":true,"frequency_penalty":0.2,"llm_id":"v3___OpenAI-API@OpenAI-API-Compatible","maxTokensEnabled":false,"max_tokens":4096,"message_history_window_size":12,"parameter":"Precise","parameters":[],"presencePenaltyEnabled":true,"presence_penalty":0.1,"prompt":"请根据《零件工艺》在《工艺库》中查找对应的可实现工序。\n\n匹配规则：\n1.《零件工艺》中工序的描述、参数里提及的所有工艺（即使未作为独立工序名称出现），均需纳入匹配范围；\n\n2.重复工艺必须完整保留：《零件工艺》中同一工艺名称在不同工序中重复出现（如 “车削” 在粗加工、半精加工中各出现 1 次），需按出现次数分别匹配，不可合并或省略；\n\n3.隐含工艺强制提取：工序参数中明确提及的工艺（如 “渗碳淬火” 参数中的 “回火温度” 对应的 “回火”），即使未作为独立工序名称，也需从《工艺库》中匹配并纳入。\n\n输出要求：\n- 格式：一层结构的JSON对象，键为工艺编码，值为工艺名称（如{\"P001\":\"淬火\",\"P002\":\"磨削\"}）；\n- 约束：顺序按照零件工艺出现的的顺序排列；\n- 仅返回JSON，不包含任何额外文字、标点或解释。\n\n《零件工艺》： {Generate:TameBreadsPay}\n\n《工艺库》： {Retrieval:YoungMapsSneeze}","temperature":0.1,"temperatureEnabled":true,"topPEnabled":true,"top_p":0.5},"label":"Generate","name":"生成回答_1"},"dragging":false,"id":"Generate:SoftPointsBrake","measured":{"height":102,"width":200},"position":{"x":29.320698326834005,"y":238.42887044161398},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"generateNode"},{"data":{"form":{},"label":"Answer","name":"对话_0"},"dragging":false,"id":"Answer:MeanSuitsMelt","measured":{"height":44,"width":200},"position":{"x":-102.59840898726333,"y":107.15215453440618},"selected":false,"sourcePosition":"right","targetPosition":"left","type":"logicNode"}],"edges":[{"id":"xy-edge__Retrieval:SourBottlesRhymeb-Generate:TameBreadsPayc","markerEnd":"logo","source":"Retrieval:SourBottlesRhyme","sourceHandle":"b","style":{"stroke":"rgb(202 197 245)","strokeWidth":2},"target":"Generate:TameBreadsPay","targetHandle":"c","type":"buttonEdge","zIndex":1001},{"id":"xy-edge__begin-Answer:MeanSuitsMeltc","markerEnd":"logo","source":"begin","style":{"stroke":"rgb(202 197 245)","strokeWidth":2},"target":"Answer:MeanSuitsMelt","targetHandle":"c","type":"buttonEdge","zIndex":1001},{"id":"xy-edge__Answer:MeanSuitsMeltb-Retrieval:SourBottlesRhymec","markerEnd":"logo","source":"Answer:MeanSuitsMelt","sourceHandle":"b","style":{"stroke":"rgb(202 197 245)","strokeWidth":2},"target":"Retrieval:SourBottlesRhyme","targetHandle":"c","type":"buttonEdge","zIndex":1001},{"id":"xy-edge__Generate:SoftPointsBrakec-Answer:MeanSuitsMeltc","markerEnd":"logo","source":"Generate:SoftPointsBrake","sourceHandle":"c","style":{"stroke":"rgb(202 197 245)","strokeWidth":2},"target":"Answer:MeanSuitsMelt","targetHandle":"c","type":"buttonEdge","zIndex":1001},{"id":"xy-edge__Generate:TameBreadsPayb-Retrieval:YoungMapsSneezeb","markerEnd":"logo","source":"Generate:TameBreadsPay","sourceHandle":"b","style":{"stroke":"rgb(202 197 245)","strokeWidth":2},"target":"Retrieval:YoungMapsSneeze","targetHandle":"b","type":"buttonEdge","zIndex":1001},{"id":"xy-edge__Retrieval:YoungMapsSneezec-Generate:SoftPointsBrakeb","markerEnd":"logo","source":"Retrieval:YoungMapsSneeze","sourceHandle":"c","style":{"stroke":"rgb(202 197 245)","strokeWidth":2},"target":"Generate:SoftPointsBrake","targetHandle":"b","type":"buttonEdge","zIndex":1001}]}